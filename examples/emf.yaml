version: 1
name: "EMF Model"
blocks:
  -
    id: b1
    type: labelSource
    x: 1850
    y: 1630
    rotation: 0
    params:
      name: u
  -
    id: b2
    type: tf
    x: 1970
    y: 1610
    rotation: 0
    params:
      num: ["K"]
      den: ["\\tau",1]
  -
    id: b4
    type: sum
    x: 2450
    y: 1640
    rotation: 0
    params:
      signs: [1,1,1]
  -
    id: b5
    type: tf
    x: 2530
    y: 1610
    rotation: 0
    params:
      num: [1]
      den: ["I",0,"-mg"]
  -
    id: b6
    type: pid
    x: 2420
    y: 1740
    rotation: 270
    params:
      kp: 20
      ki: 1
      kd: 2
  -
    id: b7
    type: delay
    x: 2270
    y: 1860
    rotation: 0
    params:
      delay: 0.1
  -
    id: b8
    type: sum
    x: 2450
    y: 1890
    rotation: 270
    params:
      signs: [1,1,-1]
  -
    id: b9
    type: labelSink
    x: 2780
    y: 1630
    rotation: 0
    params:
      name: "\\theta"
      showNode: true
  -
    id: b10
    type: step
    x: 1880
    y: 2010
    rotation: 0
    params:
      stepTime: 1
  -
    id: b11
    type: labelSource
    x: 2360
    y: 2080
    rotation: 0
    params:
      name: u
  -
    id: b12
    type: labelSource
    x: 2360
    y: 2170
    rotation: 0
    params:
      name: "\\theta"
  -
    id: b13
    type: labelSink
    x: 2030
    y: 2030
    rotation: 0
    params:
      name: u
      showNode: true
  -
    id: b14
    type: scope
    x: 2690
    y: 2060
    rotation: 0
    params:
      tMin: ""
      tMax: ""
      yMin: ""
      yMax: ""
      width: 350
      height: 260
  -
    id: b15
    type: labelSink
    x: 2260
    y: 1530
    rotation: 0
    params:
      name: u_f
      showNode: true
  -
    id: b16
    type: labelSource
    x: 2360
    y: 2260
    rotation: 0
    params:
      name: u_f
  -
    id: b17
    type: labelSink
    x: 2460
    y: 1970
    rotation: 0
    params:
      name: u_d
      showNode: true
  -
    id: b18
    type: gain
    x: 2270
    y: 1610
    rotation: 0
    params:
      gain: -mg
connections:
  -
    from: b4
    to: b5
    fromIndex: 0
    toIndex: 0
    points: [[2480,1650],[2530,1650]]
  -
    from: b1
    to: b2
    fromIndex: 0
    toIndex: 0
    points: [[1890,1650],[1970,1650]]
  -
    from: b2
    to: b7
    fromIndex: 0
    toIndex: 0
    points: [[2130,1650],[2230,1650],[2230,1900],[2270,1900]]
  -
    from: b8
    to: b6
    fromIndex: 0
    toIndex: 0
    points: [[2460,1880],[2460,1820]]
  -
    from: b5
    to: b9
    fromIndex: 0
    toIndex: 0
    points: [[2690,1650],[2780,1650]]
  -
    from: b5
    to: b8
    fromIndex: 0
    toIndex: 2
    points: [[2690,1650],[2720,1650],[2720,1900],[2480,1900]]
  -
    from: b10
    to: b13
    fromIndex: 0
    toIndex: 0
    points: [[1960,2050],[2030,2050]]
  -
    from: b11
    to: b14
    fromIndex: 0
    toIndex: 0
    points: [[2400,2100],[2690,2100]]
  -
    from: b2
    to: b15
    fromIndex: 0
    toIndex: 0
    points: [[2130,1650],[2230,1650],[2230,1550],[2260,1550]]
  -
    from: b7
    to: b8
    fromIndex: 0
    toIndex: 1
    points: [[2350,1900],[2440,1900]]
  -
    from: b16
    to: b14
    fromIndex: 0
    toIndex: 2
    points: [[2400,2280],[2690,2280]]
  -
    from: b7
    to: b17
    fromIndex: 0
    toIndex: 0
    points: [[2350,1900],[2400,1900],[2400,1990],[2460,1990]]
  -
    from: b2
    to: b18
    fromIndex: 0
    toIndex: 0
    points: [[2130,1650],[2270,1650]]
  -
    from: b6
    to: b4
    fromIndex: 0
    toIndex: 2
    points: [[2460,1740],[2460,1670]]
  -
    from: b12
    to: b14
    fromIndex: 0
    toIndex: 1
    points: [[2400,2190],[2690,2190]]
  -
    from: b18
    to: b4
    fromIndex: 0
    toIndex: 0
    points: [[2370,1650],[2440,1650]]
variables: "m=1\ng=9.81\nI=m\nmg=m*g\nk=1\nK=1\ntau=1"
